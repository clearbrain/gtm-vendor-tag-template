___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.

___INFO___

{
  "displayName": "ClearBrain Pixel",
  "description": "The ClearBrain Pixel template sends events you specify to the ClearBrain predictive analytics platform.  We'll help you build predictive models and understand which actions cause users to convert.",
  "categories": ["ANALYTICS", "EXPERIMENTATION", "CONVERSION_TRACKING", "REMARKETING"],
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/png;base64,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",
    "displayName": "",
    "id": "brand_dummy"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "notSetText": "(Enter the write key in the ClearBrain Connections detail pane.)",
    "help": "The 8-10 character Write Key identifies your connection to ClearBrain.  The Write Key is found in the ClearBrain app in the Connections detail pane for the GTM connection.",
    "alwaysInSummary": false,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "args": [
          8,
          10
        ],
        "type": "STRING_LENGTH"
      },
      {
        "args": [
          "[a-z0-9]+"
        ],
        "type": "REGEX"
      }
    ],
    "displayName": "Write Key",
    "simpleValueType": true,
    "name": "writeKey",
    "type": "TEXT"
  },
  {
    "help": "The type of event to send to ClearBrain.  <strong>page</strong> calls represent a page view in the application.  <strong>track</strong> calls specify an arbitrary event of any kind and must specify an <em>event</em> parameter. <strong>identify</strong> calls link a <em>userId</em> to an <em>anonymousId</em> and add traits to the user.",
    "macrosInSelect": false,
    "selectItems": [
      {
        "displayValue": "track",
        "value": "track"
      },
      {
        "displayValue": "page",
        "value": "page"
      },
      {
        "displayValue": "identify",
        "value": "identify"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "displayName": "Event Type",
    "simpleValueType": true,
    "name": "eventType",
    "type": "SELECT"
  },
  {
    "help": "Parameters associated with the event.  Each event must at least specify the user associated with it as a <em>userId</em> (logged in) or an <em>anonymousId</em> (visitor) -- both may be specified in an <em>identify</em> call.",
    "valueValidators": [
      {
        "args": [
          1
        ],
        "type": "TABLE_ROW_COUNT"
      }
    ],
    "displayName": "Parameters",
    "name": "parameters",
    "simpleTableColumns": [
      {
        "defaultValue": "",
        "displayName": "Name",
        "name": "name",
        "type": "TEXT"
      },
      {
        "defaultValue": "",
        "displayName": "Value",
        "name": "value",
        "type": "TEXT"
      }
    ],
    "type": "SIMPLE_TABLE",
    "newRowButtonText": "Add Parameter"
  }
]


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://api.clearbrain.com/v1/gtm/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const encodeUriComponent = require('encodeUriComponent');
const sendPixel = require('sendPixel');

log('data = ', data);

const eventType = encodeUriComponent(data.eventType);
const writeKey = encodeUriComponent(data.writeKey);
const params = data.parameters.map(param =>
  encodeUriComponent(param.name) + '=' + encodeUriComponent(param.value));
const baseUrl = 'https://api.clearbrain.com/v1/gtm/' + eventType + '?writeKey=' + writeKey;
const url = [baseUrl].concat(params).join('&');

log('url = ', url);

sendPixel(url, data.gtmOnSuccess, data.gtmOnFailure);


___NOTES___

Created on 9/23/2019, 5:24:25 PM
